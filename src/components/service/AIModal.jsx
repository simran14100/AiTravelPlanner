/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 */

import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOGGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


 export  const chatSession = model.startChat({
    generationConfig,
 // safetySettings: Adjust safety settings
 // See https://ai.google.dev/gemini-api/docs/safety-settings
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate travel plan for location: India, for 2 days for 2 people for Moderate budget , Give me a hotels option lists with hotel name , hotel address , price , hotel image url , geo coordinates , ticket pricing , rating , description and suggest itinerary with time , place name , place details , place image url , geo coordinates , ticket pricing , rating , time travel each of the location for 2 days with each day plan with best time to visit in json format\n"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"trip\": {\n    \"destination\": \"India\",\n    \"duration\": \"2 Days\",\n    \"budget\": \"Moderate\",\n    \"travelers\": 2,\n    \"hotels\": [\n      {\n        \"name\": \"The Oberoi, New Delhi\",\n        \"address\": \"Dr. Zakir Hussain Marg, New Delhi, Delhi 110003, India\",\n        \"price\": \"₹10,000 - ₹20,000 per night\",\n        \"imageUrl\": \"https://www.theoberoi.com/images/hotels/newdelhi/hero-banner.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 28.6130,\n          \"longitude\": 77.2299\n        },\n        \"rating\": 4.5,\n        \"description\": \"Luxury hotel with elegant rooms, multiple dining options, a spa, and a rooftop pool.\"\n      },\n      {\n        \"name\": \"The Leela Palace New Delhi\",\n        \"address\": \"Chanakyapuri, New Delhi, Delhi 110021, India\",\n        \"price\": \"₹8,000 - ₹15,000 per night\",\n        \"imageUrl\": \"https://www.theleela.com/media/images/hotel-page/leela-palace-new-delhi/hero-banner.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 28.5848,\n          \"longitude\": 77.2072\n        },\n        \"rating\": 4.6,\n        \"description\": \"Grand hotel with spacious rooms, a rooftop restaurant, a spa, and a swimming pool.\"\n      },\n      {\n        \"name\": \"The Imperial, New Delhi\",\n        \"address\": \"Janpath Lane, Connaught Place, New Delhi, Delhi 110001, India\",\n        \"price\": \"₹6,000 - ₹12,000 per night\",\n        \"imageUrl\": \"https://www.theimperialindia.com/media/wysiwyg/images/home-page-hero-mobile.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 28.6314,\n          \"longitude\": 77.2179\n        },\n        \"rating\": 4.7,\n        \"description\": \"Historic hotel with luxurious rooms, multiple dining options, and a spa.\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": 1,\n        \"plan\": [\n          {\n            \"time\": \"9:00 AM - 12:00 PM\",\n            \"place\": \"Red Fort\",\n            \"details\": \"A UNESCO World Heritage Site, the Red Fort is a magnificent example of Mughal architecture.\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Red_Fort_Delhi_India.jpg/1200px-Red_Fort_Delhi_India.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.6562,\n              \"longitude\": 77.2399\n            },\n            \"ticketPricing\": \"₹10 per person\",\n            \"rating\": 4.8\n          },\n          {\n            \"time\": \"12:00 PM - 1:00 PM\",\n            \"place\": \"Lunch at Paranthe Wali Gali\",\n            \"details\": \"A street food haven famous for its delicious parathas.\",\n            \"imageUrl\": \"https://www.holidify.com/images/cmsuploads/blog/images/parathe-wali-galli.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.6463,\n              \"longitude\": 77.2227\n            },\n            \"ticketPricing\": \"N/A\",\n            \"rating\": 4.5\n          },\n          {\n            \"time\": \"1:00 PM - 4:00 PM\",\n            \"place\": \"Jama Masjid\",\n            \"details\": \"One of the largest mosques in India, known for its grandeur and architectural brilliance.\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Jama_Masjid_in_Delhi.jpg/1200px-Jama_Masjid_in_Delhi.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.6470,\n              \"longitude\": 77.2338\n            },\n            \"ticketPricing\": \"₹10 per person\",\n            \"rating\": 4.7\n          },\n          {\n            \"time\": \"4:00 PM - 6:00 PM\",\n            \"place\": \"Chandni Chowk\",\n            \"details\": \"A bustling market with a rich history, offering a vibrant shopping experience.\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Chandni_Chowk_Delhi.jpg/1200px-Chandni_Chowk_Delhi.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.6489,\n              \"longitude\": 77.2317\n            },\n            \"ticketPricing\": \"N/A\",\n            \"rating\": 4.6\n          },\n          {\n            \"time\": \"6:00 PM - 7:00 PM\",\n            \"place\": \"Dinner at Karim's\",\n            \"details\": \"A famous restaurant serving authentic Mughlai cuisine.\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Karim%27s_restaurant_Chandni_Chowk_Delhi.jpg/1200px-Karim%27s_restaurant_Chandni_Chowk_Delhi.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.6480,\n              \"longitude\": 77.2319\n            },\n            \"ticketPricing\": \"N/A\",\n            \"rating\": 4.3\n          }\n        ]\n      },\n      {\n        \"day\": 2,\n        \"plan\": [\n          {\n            \"time\": \"9:00 AM - 12:00 PM\",\n            \"place\": \"Humayun's Tomb\",\n            \"details\": \"A beautiful example of Mughal architecture, this tomb is a UNESCO World Heritage Site.\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Humayun%27s_Tomb_from_the_South.jpg/1200px-Humayun%27s_Tomb_from_the_South.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.6135,\n              \"longitude\": 77.2436\n            },\n            \"ticketPricing\": \"₹10 per person\",\n            \"rating\": 4.9\n          },\n          {\n            \"time\": \"12:00 PM - 1:00 PM\",\n            \"place\": \"Lunch at Theobroma\",\n            \"details\": \"A popular bakery chain offering delicious cakes, pastries, and sandwiches.\",\n            \"imageUrl\": \"https://www.theobroma.co.in/sites/default/files/uploads/hero-images/hero-new-delhi-theobroma.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.6270,\n              \"longitude\": 77.2212\n            },\n            \"ticketPricing\": \"N/A\",\n            \"rating\": 4.2\n          },\n          {\n            \"time\": \"1:00 PM - 4:00 PM\",\n            \"place\": \"Lotus Temple\",\n            \"details\": \"A unique temple designed in the shape of a lotus flower, symbolizing peace and harmony.\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Lotus_Temple_New_Delhi.jpg/1200px-Lotus_Temple_New_Delhi.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.5525,\n              \"longitude\": 77.2452\n            },\n            \"ticketPricing\": \"Free entry\",\n            \"rating\": 4.6\n          },\n          {\n            \"time\": \"4:00 PM - 6:00 PM\",\n            \"place\": \"Qutub Minar\",\n            \"details\": \"The tallest brick minaret in the world, a UNESCO World Heritage Site.\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Qutub_Minar.jpg/1200px-Qutub_Minar.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.5840,\n              \"longitude\": 77.1734\n            },\n            \"ticketPricing\": \"₹30 per person\",\n            \"rating\": 4.8\n          },\n          {\n            \"time\": \"6:00 PM - 7:00 PM\",\n            \"place\": \"Dinner at The Big Chill\",\n            \"details\": \"A popular restaurant serving a wide variety of cuisines in a relaxed ambiance.\",\n            \"imageUrl\": \"https://www.thebigchill.in/images/banner-home-1.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 28.6208,\n              \"longitude\": 77.2161\n            },\n            \"ticketPricing\": \"N/A\",\n            \"rating\": 4.4\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Explanation:**\n\nThis JSON structure represents a travel plan for a 2-day trip to India for two people on a moderate budget. It includes:\n\n* **Destination:** India\n* **Duration:** 2 Days\n* **Budget:** Moderate\n* **Travelers:** 2\n* **Hotels:** A list of suggested hotels with their names, addresses, prices, image URLs, geo-coordinates, ratings, and descriptions.\n* **Itinerary:** A detailed itinerary for each day, including:\n    * **Day:** Day number (1 or 2)\n    * **Plan:** An array of activities for that day, including:\n        * **Time:** Time slot for the activity\n        * **Place:** Name of the place to visit\n        * **Details:** Description of the place\n        * **ImageUrl:** Image URL of the place\n        * **GeoCoordinates:** Latitude and longitude of the place\n        * **TicketPricing:** Ticket price for entry (if applicable)\n        * **Rating:** Rating of the place\n\n**Note:** This is just a sample itinerary. You can customize it based on your preferences, interests, and travel style. \n"},
        ],
      },
    ],
  });

  
